## 2025.7.0b2

[**Read release announcement**](https://beta.esphome.io/changelog/2025.7.0)

- Fix another race in the string lifetime scheduler test [esphome#9399](https://github.com/esphome/esphome/pull/9399) by [@bdraco](https://github.com/bdraco)
- [esp32_touch] Fix touch v1 [esphome#9414](https://github.com/esphome/esphome/pull/9414) by [@swoboda1337](https://github.com/swoboda1337)
- Set lib_compat_mode to strict [esphome#9408](https://github.com/esphome/esphome/pull/9408) by [@swoboda1337](https://github.com/swoboda1337)
- debug: bufferoverflow mitigation in DebugComponent::on_shutdown() [esphome#9422](https://github.com/esphome/esphome/pull/9422) by [@RubenKelevra](https://github.com/RubenKelevra)
- Exclude internal entities from name uniqueness validation [esphome#9410](https://github.com/esphome/esphome/pull/9410) by [@bdraco](https://github.com/bdraco)
- Handle ESP32 chunked MQTT messages missing topic on non-first chunks, causing panic [esphome#5786](https://github.com/esphome/esphome/pull/5786) by [@aaliddell](https://github.com/aaliddell)
- Replace remaining instances of USE_ESP32_CAMERA with USE_CAMERA [esphome#9401](https://github.com/esphome/esphome/pull/9401) by [@DT-art1](https://github.com/DT-art1)
- Sync api.proto from aioesphomeapi [esphome#9393](https://github.com/esphome/esphome/pull/9393) by [@bdraco](https://github.com/bdraco)
- Fix scheduler crash when cancelling items with NULL names [esphome#9444](https://github.com/esphome/esphome/pull/9444) by [@bdraco](https://github.com/bdraco)
- [wizard] use lowercase to match [esphome#9448](https://github.com/esphome/esphome/pull/9448) by [@ssieb](https://github.com/ssieb)
- Optimize API flash usage by storing message size at compile time [esphome#9447](https://github.com/esphome/esphome/pull/9447) by [@bdraco](https://github.com/bdraco)
- Optimize API proto size calculations by removing redundant force parameter [esphome#9449](https://github.com/esphome/esphome/pull/9449) by [@bdraco](https://github.com/bdraco)
- [ld2410] Remove redundant ``delay()`` calls, minor optimizations [esphome#9453](https://github.com/esphome/esphome/pull/9453) by [@kbx81](https://github.com/kbx81)
- Reduce API flash usage by eliminating unnecessary template instantiations [esphome#9452](https://github.com/esphome/esphome/pull/9452) by [@bdraco](https://github.com/bdraco)
- Conditionally compile API user services to save 4.3KB flash (follow-up to #9262) [esphome#9451](https://github.com/esphome/esphome/pull/9451) by [@bdraco](https://github.com/bdraco) (breaking-change)
- [packet_transport] Don't run update if ping_pong not enabled. [esphome#9434](https://github.com/esphome/esphome/pull/9434) by [@clydebarrow](https://github.com/clydebarrow)
- [sx127x, sx126x] Fix preamble_size default and validation [esphome#9454](https://github.com/esphome/esphome/pull/9454) by [@swoboda1337](https://github.com/swoboda1337)
- Apply existing protobuf buffer optimization to nested message encoding (~2.3x speed up) [esphome#9458](https://github.com/esphome/esphome/pull/9458) by [@bdraco](https://github.com/bdraco)
- Bump aioesphomeapi from 34.2.0 to 34.2.1 [esphome#9460](https://github.com/esphome/esphome/pull/9460) by [@dependabot[bot]](https://github.com/apps/dependabot)
- Only generate protobuf encode/decode methods for the message direction they're used [esphome#9461](https://github.com/esphome/esphome/pull/9461) by [@bdraco](https://github.com/bdraco)
- [usb_uart] Be flexible about descriptor layout for CDC-ACM devices [esphome#9425](https://github.com/esphome/esphome/pull/9425) by [@clydebarrow](https://github.com/clydebarrow)
- [libretiny] Set lib_compat_mode to soft for libretiny [esphome#9439](https://github.com/esphome/esphome/pull/9439) by [@swoboda1337](https://github.com/swoboda1337)

